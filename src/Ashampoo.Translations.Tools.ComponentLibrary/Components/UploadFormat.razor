@using Microsoft.AspNetCore.Components.Forms
@using MudBlazor
<InputFile id="@id" OnChange="UploadFileAsync" hidden single/>
<MudButton Class="@Class" Disabled="Disabled" HtmlTag="label" Variant="Variant"
           Color="Color" StartIcon="@StartIcon" for="@id">
    @if (processing)
    {
        <MudProgressCircular Class="ms-n1" Size="Size.Small" Indeterminate="true"></MudProgressCircular>
        <MudText Class="ms-2">Processing</MudText>
    }
    else
    {
        <MudText>@ChildContent</MudText>
    }
</MudButton>
@if (uploadFailed)
{
    <MudAlert Severity="Severity.Error">@uploadFailedExceptionMessage</MudAlert>
}